# Todo (Future Timeline of Work)

**The curren plan is for version [0.7.1](.agents/docs/PLAN.md).**

## v0.8.0: Embedding Retrevial Improvments

### DB
- Add DB versioning with migratin/upgrade between versions.
  - This needs to be thoroughly tested.
- Add DB complete, meaning when an update adds new ingest etc. items stored
  there should be a way for the DB to be completed with this new data instead
  of having to rebuild the entire DB

### Architecural Overhall

- Read .claude_files/INGEST_FUTURE.md for an outline of how to create
  a plan to improve the ingest and embedding retrevial pipeline.

### Document Headings Improvement

- When a text document has subheadings the user should be able to define
  how many subheadings deep should be considered when creating chunk
  boundaries by headings. Otherwise the ingest should intellegently use
  subheadings based upon the follow criteria:
  - When a heading is larger than the max chunk size and contains
      sub-headings,
      then the section should be chunked along the sub-heading boundaries. The meta-data
      in the chunk should indicate the heirarchy of headings: heading::sub-heading
  - This process should repeat into nested subheadings so long as the
      current heading level is larger than the target max chunk size.

## v0.9.0: Refactor and Dog Food

### TUI Improvements
- Right now the TUI is mouse-first instead of keyboard-first. It acts like a GUI
  and not a command line program. This also makes it far more brittle in both
  UX and development than it should be.
- Change to have a single base display:
|Current Screen: Insert Screen Name       Date Time|
|--------------------------------------------------|
| Formatted Text Content               | Global    |
| for the current screen               | scrolling |
|                                      | log disp  |
|--------------------------------------------------|
| Prompt for user type commands                    |
|--------------------------------------------------|
| Short cuts for current display                   |
- Then each screen handles the commands from the user and modifies the display
  space. This can either be to simply update the screen with new text from the
  result of have a scrolling display in the case of query results or viewing
  agent logs
  - All user input comes from input prompt
  - All output goes into the text display panel
  - Then on the side there is a scrolling log display for the global system log.
  - Each screen should manage user autocomplete/command processing/content state
    so that it can properly output the right text.
- There should be no buttons remaining.


### General

- Update "psycopg[binary]>=3.1", "pgvector>=0.4",

### Documentation

- Improve documentation
- Find a way to automatically turn the documentation into a viewable site
  using MkDocs and GitHub actions to deploy to a GitHub Pages.
- Ensure that every sentence gramatically follows.
- Ensure that the config document explains all possible configuration
  settings.
  - Note that it can treat tools and agents in general. Each tool and agent
    should clearly document their configuration settings.

### Code Quality

- Do a checking for large files that could be refactored into small files.
- Check overly complicated code paths or redundant code.
- Look for places where code is duplicated and can be consolidated.
- Look for any legacy code, dead code, or backwards compatability code and
  remove it.
- Look for places where module boundaries are not properly respected and
  abstractions have started to leak and reinforce module boundaries and
  consider refactoring if abstractions have become too leaky.
- Check Tests to make sure there is no artifical duplication.
- Review for any legacy/backwards-capatability/dead-code and review it.
- Search for feature creep or bloat.
- Update Config search path to start by searching in <GLOBAL_FOLDER> and 
  load env files from there

### LLM Refinements
- Research how bulk Batch APIs might be used effectively.
- Research WebSockets for OpenAI Responses API: https://developers.openai.com/api/docs/guides/websocket-mode.
- Look into parallel tool calls api parameter.

### "Interactive" Base Agent Extension
- Update BaseAgent to handle taking commands, matching the command (either
  deterministically or using the quick LLM tier) to fixed task, and then running
  specific tasks, showing results to user, and then waiting for another task command.

### Per Agent Settings
- Agents right now can store memories, but these are mini-"prompts" that are merged
  together. Agents also need to be able to save settings. The memories are for LLMs
  settings are for the programatic Agents themselves.
  - For Example: The user should be able to save particular email address to be used
    by the Email Agent which are used to create particular summaries. So the user can
    specify here are five newsletter email addresses, use them when creating the
    Daily News summary from my emails.

### User Defined Agents
- User should be able to configure a "custom" agent which where they specify which
  agent they are adjusting and then defines the name, category, opening prompt, and
  the tools and folders available to the agent. This agent should then appear in
  the TUI screen.

### Research Agent
- Need to add greater exploration in each phase to bring in a diversity of sources.
- Need to clarify the role of the other Academic agents
- Synthesis Agent should be merged into Research Agent

### Writing Editor and Writing Agents
- These need to be merged into one. Both tasks should be handled
  by one agent.

### Librarian and Curator Agents
- These need to be merged into one.

### Document Analysis Agent
- Given a document does a deep dive analysis following
  footnotes, comparing with other documents, exploring
  origins of ideas, etc.

### News Assistant Agent
- Should not just read and combine, but use and llm to create
  summary digests of the latest news.

### Agent Assistant
- Should use LLM to create summary digest of statistics of
  findings

### Calendar Assistant
- Should have a list of tasks that it can do which the user then selects from:
  - Summarize recent events
  - Summarize upcoming events
  - Add event
  - Update event
  - Delete event

### Email Assistant
- Should have a list of tasks that it can do which the user then selects from:
  - Summarize use LLM to create summaries digests of recent emails
  - Have the ability to draft responses to particular emails

### General Meta Agent
- Like General Agent, but can spawn General Agents

### Deployment

- Create clear install instructions
- Explore creating docker images
- Config pyproject to install complete/just chroma/just pgsql

### Testing

- Ensure that the complete security strategy in SECURITY.md is being
  followed. Pay particular attention to the testing of the Meta agent to
  make sure that it is thoroughly tested.
  - The security tests of the whole agent system should test every way to
      break out of the sandbox.
- Review the test suite to make sure that live services are tested and there
  are no stubs or "auto-pass" tests.
- Ensure that the test suite is properly structured to match the actual
  project module structure and the tests are properly named.
- Ensure that there are full integration tests uses the different
  configurations to make sure that the different AI Providers, DBs, etc.
  work with each other.
- Make sure that different DB migration tests truly load complete DBs and
  successfully migrate in both directions SQLite <-> PG, and Chroma <-> PG
- Expand performance test suite beyond the TUI startup SLA
- Ensure there are PDf ingest tests and PDF OCR ingest tests
- Expand benchmarking test framework to include the tool benchmarking
  from v0.8.0.

## v0.9.1: System Refinements
- Insert results from usage in v.0.9.0

## v0.9.2: Security
- All network tool calls pass through an internally proxy. This proxy
  does url whitelist/blacklist.
- Reconsider supporting both WLS2 and Docker vs just using docker
- Need to do performance testing on using docker per agent vs just
  running agent unsandboxed.
- Need to do a full security review of the code base and documentation
  - Need to make sure that package/module boundaries are being respected
    and proper encapsulation is being followed.
- Need to do security expliot testing and create a test harness to make
  such testing easy to do.

## v0.10.0: Extra Control Paths
- Add ability to send email/txt notifications
- Add ability to create RSS Feed from for example the News Agent
- Add ability to launch commands by txt/email

## v0.11.0: UI
- Add Web interface (mobile and desktop browsers)
- Add desktop UI based up web interface (Electron)

## v0.12.0: Intergrations

- Add Zotero itegrations
- Complete Obsidian integration
  - Create obsidian plugin that connects to the LSM server used by the Web
    UI to allow the user to interact with LSM via the API requests
- Complete logseq integration

## v0.13.0: Internals

### Levarage DBs

- Persist ingest state and file hashes to enable incremental re-ingest and
  avoid duplicate embeddings.
- Store chunk-level metadata (doc id, offsets, tags, source path) to improve
  filters and explainability.
- Add a durable query cache with TTL cleanup (survives restarts).
- Persist run summaries, tool approvals/denials, and outcomes for
  auditability and analytics.
- Move scheduler/workflow state out of JSON into a DB for concurrency safety
  and richer queries.
- Store user feedback/annotations to improve memory promotion and retrieval
  ranking.
- Does it make sense given how large and complicated the config file is becoming
  to use SQLite for settings.

## v1.0.0: First Release

### General

- Dogfood everything again
- Check for code refactors and test usage
- Confirm installation process
- Create clear documentation/examples API/Configs with testing to track
  backwards compatability.
- Ensure the start up times are as fast as possible.
- Look for code optimization points (both in terms of memory usage and
  execution time).

### TUI

- Ensure TUI is rock solid and following the best practices

### Web

- Ensure Web interface is rock solid and following the best practices

### Remote Controlers

- Ensure Txt and Email notifications and control messanges are rock solid

## v1.1.0: Remote Access
- Provide the ability to access LSM from remote location. Since the GUI is already a front
  end for a web api backend, in theory a VPN (tailscape) onto the computer running LSM
  would be sufficient and so any plan for remote access most judged compared to that.
  - Option 1: In theory all that is need to run the system remote is access to the DB. If
    the DB is PG and remote hosted. Then there just needs to be a LSM public webserver with
    access to the remote hosted PG. The only immediate issue would be that the user would not
    be able to directly access the full files, though the DB largely already contains everything
    anyway.
  - Option 2: Create a kind of Hub, were the local LSM can register and then the Hub and LSM
    connect over an encrypted channel. Over this channel the hub makes API calls and then
    renders them normally. This basically recreates a VPN to the Local LSM that is transparent
    to the user.

## v1.2.0: Webpage Navigation

- Add ability to scrape websites.
  - Design to be flexible so as to configure "adapters" for particular websites
  - Design to use AI to adapt on the fly to changing HTML
- Add ability to login on websites.
- Add ability to create "RSS Feed" of websites, meaning periodically read
  and then create list of posts/new content.

## v.1.3.0: Drives
- Research value in integrating One Drive and Google Drive

## v1.4.0: Finantial Features

- Finance Remote Providers (See .agents/future_plans/FINANCE_PROVIDERS.md)
- Finance Agents

## v1.5.0: Social Features
- Social Remote Providers
- Social Agents

## v1.6.0: Formal Validation System
- Do research into how to add formal validation so as to
  create an agent that will be given a task and create a
  formal proof of the task.
- This agent should be intentional in building up memories
  of formal proofs to aid create foundational knowledge