{
  "_comment": "Local Second Mind Configuration",
  "_comment_roots": "Directory roots to scan for documents",
  "roots": [
    "C:\\Users\\User\\Documents",
    "D:\\Writings"
  ],

  "_comment_storage": "ChromaDB storage configuration",
  "persist_dir": ".chroma",
  "collection": "local_kb",
  "chroma_flush_interval": 2000,

  "_comment_embedding": "Embedding model configuration",
  "embed_model": "sentence-transformers/all-MiniLM-L6-v2",
  "device": "cpu",
  "batch_size": 32,

  "_comment_ingest": "Ingest pipeline configuration",
  "manifest": ".ingest/manifest.json",
  "chunk_size": 1800,
  "chunk_overlap": 200,
  "enable_ocr": false,
  "enable_ai_tagging": false,
  "tagging_model": "gpt-5.2",
  "tags_per_chunk": 3,
  "dry_run": false,

  "_comment_extensions": "File type filtering",
  "extensions": [".txt", ".md", ".rst", ".pdf", ".docx", ".html", ".htm"],
  "override_extensions": false,

  "_comment_excludes": "Directory exclusions",
  "exclude_dirs": [".cache", "node_modules", "__pycache__"],
  "override_excludes": false,

  "_comment_llm": "LLM providers list (ordered). Later providers override per-feature selection.",
  "llms": [
    {
      "_comment_provider": "Primary provider defines defaults for all features",
      "provider_name": "openai",
      "api_key": "INSERT_YOUR_OPENAI_API_KEY",
      "query": {
        "model": "gpt-5.2",
        "temperature": 0.7,
        "max_tokens": 2000
      },
      "tagging": {
        "model": "gpt-5-nano",
        "temperature": 0.5,
        "max_tokens": 200
      },
      "ranking": {
        "model": "gpt-5.2",
        "temperature": 0.3,
        "max_tokens": 500
      }
    },
    {
      "_comment_provider": "Later providers can override a single feature",
      "provider_name": "gemini",
      "api_key": "INSERT_YOUR_GEMINI_API_KEY",
      "tagging": {
        "model": "gemini-2.5-flash-lite",
        "temperature": 1,
        "max_tokens": 200
      }
    },
    {
      "provider_name": "claude",
      "api_key": "INSERT_YOUR_CLAUDE_API_KEY",
      "ranking": {
        "model": "claude-haiku-4-5",
        "temperature": 1,
        "max_tokens": 200
      }
    }
  ],

  "_comment_query": "Query pipeline configuration",
  "query": {
    "mode": "grounded",
    "k": 12,
    "retrieve_k": null,
    "min_relevance": 0.25,
    "k_rerank": 6,
    "rerank_strategy": "hybrid",
    "no_rerank": false,
    "local_pool": null,
    "max_per_file": 2,

    "_comment_filters": "Optional query filters (can be overridden per-session in REPL)",
    "path_contains": null,
    "ext_allow": null,
    "ext_deny": null
  },

  "_comment_modes": "Query mode definitions (grounded/insight/hybrid built-in, add custom modes here)",
  "modes": [
    {
      "name": "research",
      "synthesis_style": "grounded",
      "source_policy": {
        "local": {
          "min_relevance": 0.20,
          "k": 15,
          "k_rerank": 8
        },
        "remote": {
          "enabled": true,
          "rank_strategy": "weighted",
          "max_results": 10
        },
        "model_knowledge": {
          "enabled": true,
          "require_label": true
        }
      },
      "notes": {
        "enabled": true,
        "dir": "research_notes",
        "template": "default",
        "filename_format": "timestamp",
        "integration": "none",
        "wikilinks": false,
        "backlinks": false,
        "include_tags": false
      }
    }
  ],

  "_comment_remote_providers": "Remote source providers (web search, APIs, etc.)",
  "remote_providers": [
    {
      "name": "brave",
      "type": "web_search",
      "enabled": true,
      "weight": 1.0,
      "api_key": "INSERT_YOUR_BRAVE_API_KEY",
      "max_results": 5
    },
    {
      "name": "wikipedia",
      "type": "wikipedia",
      "enabled": true,
      "weight": 0.7,
      "language": "en",
      "user_agent": "LocalSecondMind/1.0 (contact: you@example.com)",
      "max_results": 5,
      "min_interval_seconds": 1.0,
      "section_limit": 2,
      "snippet_max_chars": 600,
      "include_disambiguation": false
    }
  ]
}
